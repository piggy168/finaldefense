{"version":3,"sources":["webpack:///webpack/bootstrap 0b96efac0e6bb7b6a66b","webpack:///./lib/finaldefense.js","webpack:///./lib/game.js","webpack:///./lib/unit.js","webpack:///./lib/moving_object.js","webpack:///./lib/util.js","webpack:///./lib/bullet.js","webpack:///./lib/game_view.js","webpack:///./lib/base.js"],"names":["document","addEventListener","canvasEl","getElementsByTagName","width","DIM_X","height","DIM_Y","$","click","hide","ctx","getContext","console","log","game","start","show","getElementById","myFunction","addUnit","Game","base","bullets","units","enemy","addBase","object","push","side","enemybase","pos","length","range","color","hp","add","playerbase","unit","vel","Math","random","concat","allUnit","i","j","obj1","obj2","isCollidedWith","collideWith","enemyInRange","stop","fireBullet","inEnemyRange","damage","remove","lose","win","clearRect","fillStyle","BG_COLOR","fillRect","allObjects","forEach","draw","delta","move","splice","indexOf","go","moveObjects","checkBaseDamage","checkCollisions","objectGo","checkBaseInRange","checkInRange","wrap","FPS","module","exports","randomColor","hexDigits","floor","Unit","options","radius","norm","dir","bulletVel","scale","SPEED","bullet","otherObject","centerDist","dist","initialvel","MovingObject","isWrappable","beginPath","arc","PI","fill","timeDelta","velocityScale","NORMAL_FRAME_TIME_DELTA","offsetX","offsetY","isOutOfBounds","Util","vec","pos1","pos2","sqrt","pow","randomVec","deg","sin","cos","m","coord","max","Bullet","RADIUS","GameView","ship","Object","keys","MOVES","k","key","power","bindKeyHandlers","lastTime","requestAnimationFrame","animate","bind","time","step","Base","distX","abs","distY","dx","dy"],"mappings":"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","file":"./lib/bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 0b96efac0e6bb7b6a66b\n **/","import Game from \"./game\";\nimport GameView from \"./game_view\";\n\n\ndocument.addEventListener(\"DOMContentLoaded\", function(){\n  const canvasEl = document.getElementsByTagName(\"canvas\")[0];\n  canvasEl.width = Game.DIM_X;\n  canvasEl.height = Game.DIM_Y;\n\n  $('button[id=start]').click(\n    function()\n    {\n      $(this).hide();\n      const ctx = canvasEl.getContext(\"2d\");\n      console.log(ctx);\n      const game = new Game();\n      new GameView(game, ctx).start();\n      $('button[class=ui]').show();\n      document.getElementById(\"addunit1\").addEventListener(\"click\", myFunction);\n\n      function myFunction() {\n       game.addUnit();\n      }\n    }\n  );\n\n\n});\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/finaldefense.js\n **/","import Unit from \"./unit.js\";\nimport Bullet from \"./bullet.js\";\nimport Util from \"./util.js\";\nimport Base from \"./base.js\";\n\nclass Game {\n  constructor() {\n    this.base = [];\n    this.bullets = [];\n    this.units = [];\n    this.enemy = [];\n    this.addBase();\n    this.addUnit();\n\n\n  }\n\n  add(object) {\n     if (object instanceof Bullet) {\n      this.bullets.push(object);\n    } else if (object instanceof Unit) {\n      if (object.side === \"enemy\") {\n      this.enemy.push(object);\n      } else {\n      this.units.push(object);\n      }\n    } else { this.base.push(object);\n\n    }\n  }\n\n  addBase(){\n    const enemybase = new Base({\n      pos: [192, 50],\n      width: 150,\n      length: 100,\n      range: 100,\n      color: \"#C09\",\n      hp: 5000,\n      game: this,\n      side: \"enemy\"\n    });\n\n    this.add(enemybase);\n\n    const playerbase = new Base({\n      pos: [192, 450],\n      width: 150,\n      length: 100,\n      range: 100,\n      color: \"#093\",\n      hp: 5000,\n      game: this,\n      side: \"player\"\n    });\n    this.add(playerbase);\n\n  }\n\n  addEnemy(){\n    const unit = new Unit({\n      vel: [0,1],\n      range: 200,\n      side: \"enemy\",\n      pos: [Game.DIM_X * Math.random(),0],\n      game: this,\n      hp: 20\n    });\n\n    this.add(unit);\n\n    return unit;\n  }\n\n  addUnit() {\n    const unit = new Unit({\n      side: \"player\",\n      range: 100,\n      vel: [0, -1],\n      pos: [Game.DIM_X * Math.random(),568],\n      game: this,\n      hp: 200\n    });\n\n    this.add(unit);\n\n    return unit;\n  }\n\n  allObjects() {\n    return [].concat(this.units, this.bullets, this.enemy, this.base);\n  }\n\n  checkCollisions() {\n    const allUnit = [].concat(this.units, this.enemy);\n    for (let i = 0; i < allUnit.length; i++) {\n      for (let j = 0; j < this.bullets.length; j++) {\n        const obj1 = allUnit[i];\n        const obj2 = this.bullets[j];\n\n        if (obj1.isCollidedWith(obj2)) {\n          obj1.collideWith(obj2);\n        }\n      }\n    }\n  }\n\n  checkInRange(){\n    for (let i = 0; i < this.enemy.length; i++) {\n      for (let j = 0; j < this.units.length; j++) {\n        const obj1 = this.enemy[i];\n        const obj2 = this.units[j];\n        if (obj1.enemyInRange(obj2)) {\n          obj1.stop();\n          obj1.fireBullet(obj2.pos);\n        }\n        if (obj2.enemyInRange(obj1)) {\n          obj2.stop();\n          obj2.fireBullet(obj1.pos);\n        }\n      }\n    }\n  }\n\n  checkBaseInRange(){\n    for (let i = 0; i < this.enemy.length; i++) {\n      if (this.base[1].inEnemyRange(this.enemy[i])){\n        this.enemy[i].stop();\n        this.enemy[i].fireBullet(this.base[1].pos);\n      }\n    }\n    for (let j = 0; j < this.units.length; j++) {\n      if (this.base[0].inEnemyRange(this.units[j])){\n        this.units[j].stop();\n        this.units[j].fireBullet(this.base[0].pos);\n      }\n  }\n}\n\n  checkBaseDamage(){\n    for (let i = 0; i < this.bullets.length; i++) {\n      if (this.base[1].inEnemyRange(this.bullets[i]) && this.base[1].side !== this.bullets[i].side){\n        this.base[1].hp -= this.bullets[i].damage;\n        console.log(this.base[1].hp);\n        this.remove(this.bullets[i]);\n        if (this.base[1].hp<0)\n        {\n        this.remove(this.base[1]);\n        this.lose();\n        }\n      }\n    }\n    for (let i = 0; i < this.bullets.length; i++) {\n      if (this.base[0].inEnemyRange(this.bullets[i]) && this.base[0].side !== this.bullets[i].side){\n        this.base[0].hp -= this.bullets[i].damage;\n        this.remove(this.bullets[i]);\n        console.log(this.base[0].hp);\n        if (this.base[0].hp<0)\n        {\n        this.remove(this.base[0]);\n        this.win();\n        }\n      }\n    }\n  }\n\n\n  draw(ctx) {\n    ctx.clearRect(0, 0, Game.DIM_X, Game.DIM_Y);\n    ctx.fillStyle = Game.BG_COLOR;\n    ctx.fillRect(0, 0, Game.DIM_X, Game.DIM_Y);\n    this.allObjects().forEach((object) => {\n      object.draw(ctx);\n    });\n  }\n\n  isOutOfBounds(pos) {\n    return (pos[0] < 0) || (pos[1] < 0) ||\n      (pos[0] > Game.DIM_X) || (pos[1] > Game.DIM_Y);\n  }\n\n  moveObjects(delta) {\n    this.allObjects().forEach((object) => {\n      object.move(delta);\n    });\n  }\n\n  randomPosition() {\n    return [\n      Game.DIM_X * Math.random(),\n      Game.DIM_Y * Math.random()\n    ];\n  }\n\n  remove(object) {\n    if (object instanceof Bullet) {\n      this.bullets.splice(this.bullets.indexOf(object), 1);\n    } else if (object instanceof Unit && object.side === \"player\") {\n      this.units.splice(this.units.indexOf(object), 1);\n    } else if (object instanceof Unit && object.side === \"enemy\") {\n      this.enemy.splice(this.enemy.indexOf(object), 1);\n    } else if (object instanceof Base) {\n      this.base.splice(this.base.indexOf(object), 1);\n    }\n  }\n\n  objectGo(){\n    const allUnit = [].concat(this.units, this.enemy);\n    for (let i = 0; i < allUnit.length; i++) {\n      allUnit[i].go();\n    }\n  }\n\n\n  step(delta) {\n    this.moveObjects(delta);\n    this.checkBaseDamage();\n    this.checkCollisions();\n    this.objectGo();\n    this.checkBaseInRange();\n    this.checkInRange();\n  }\n\n  wrap(pos) {\n    return [\n      Util.wrap(pos[0], Game.DIM_X), Util.wrap(pos[1], Game.DIM_Y)\n    ];\n  }\n}\n\nGame.BG_COLOR = \"#000000\";\nGame.DIM_X = 384;\nGame.DIM_Y = 568;\nGame.FPS = 32;\n\nmodule.exports = Game;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/game.js\n **/","import MovingObject from \"./moving_object\";\nimport Bullet from \"./bullet\";\nimport Util from \"./util\";\n\nfunction randomColor() {\n  const hexDigits = \"0123456789ABCDEF\";\n\n  let color = \"#\";\n  for (let i = 0; i < 3; i ++) {\n    color += hexDigits[Math.floor((Math.random() * 16))];\n  }\n\n  return color;\n}\n\nclass Unit extends MovingObject {\n  constructor(options) {\n    options.radius = 10;\n    options.vel = options.vel || [0, 1];\n    options.range = options.range || 100;\n    options.color = options.color || randomColor();\n    super(options);\n    this.hp = options.hp;\n  }\n\n  fireBullet(pos) {\n\n    const norm = Util.dir([pos[0]-this.pos[0],pos[1]-this.pos[1]]);\n\n    const bulletVel = Util.scale(\n      norm,\n      Bullet.SPEED\n    );\n\n    const bullet = new Bullet({\n      pos: this.pos,\n      vel: bulletVel,\n      color: this.color,\n      game: this.game,\n      damage: 20,\n      side: this.side,\n    });\n\n    this.game.add(bullet);\n\n  }\n\n  enemyInRange(otherObject) {\n    const centerDist = Util.dist(this.pos, otherObject.pos);\n    return centerDist < (this.range);\n  }\n\n  stop() {\n    this.vel=[0,0];\n  }\n\n  go(){\n    this.vel=this.initialvel;\n  }\n\n  collideWith(otherObject) {\n      if (otherObject.side !== this.side) {\n        this.hp -= otherObject.damage;\n        otherObject.remove();\n        if (this.hp < 0) {\n          this.remove();\n        }\n        }\n    }\n\n\n}\nexport default Unit;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/unit.js\n **/","import Util from \"./util\";\n\nclass MovingObject {\n  constructor(options) {\n    this.pos = options.pos;\n    this.initialvel = options.vel;\n    this.vel = options.vel;\n    this.radius = options.radius;\n    this.color = options.color;\n    this.game = options.game;\n    this.range = options.range;\n    this.side = options.side;\n    this.isWrappable = false;\n  }\n\n  collideWith(otherObject) {\n    // default do nothing\n  }\n\n  draw(ctx) {\n    ctx.fillStyle = this.color;\n\n    ctx.beginPath();\n    ctx.arc(\n      this.pos[0], this.pos[1], this.radius, 0, 2 * Math.PI, true\n    );\n    ctx.fill();\n  }\n\n  isCollidedWith(otherObject) {\n    const centerDist = Util.dist(this.pos, otherObject.pos);\n    return centerDist < (this.radius + otherObject.radius);\n  }\n\n\n  move(timeDelta) {\n    //timeDelta is number of milliseconds since last move\n    //if the computer is busy the time delta will be larger\n    //in this case the MovingObject should move farther in this frame\n    //velocity of object is how far it should move in 1/60th of a second\n    const velocityScale = timeDelta / NORMAL_FRAME_TIME_DELTA,\n        offsetX = this.vel[0] * velocityScale,\n        offsetY = this.vel[1] * velocityScale;\n\n    this.pos = [this.pos[0] + offsetX, this.pos[1] + offsetY];\n\n    if (this.game.isOutOfBounds(this.pos)) {\n      if (this.isWrappable) {\n        this.pos = this.game.wrap(this.pos);\n      } else {\n        this.remove();\n      }\n    }\n  }\n\n  remove() {\n    this.game.remove(this);\n  }\n}\n\nconst NORMAL_FRAME_TIME_DELTA = 1000/60;\n\nexport default MovingObject;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/moving_object.js\n **/","const Util = {\n  // Normalize the length of the vector to 1, maintaining direction.\n  dir (vec) {\n    var norm = Util.norm(vec);\n    return Util.scale(vec, 1 / norm);\n  },\n  // Find distance between two points.\n  dist (pos1, pos2) {\n    return Math.sqrt(\n      Math.pow(pos1[0] - pos2[0], 2) + Math.pow(pos1[1] - pos2[1], 2)\n    );\n  },\n  // Find the length of the vector.\n  norm (vec) {\n    return Util.dist([0, 0], vec);\n  },\n  // Return a randomly oriented vector with the given length.\n  randomVec (length) {\n    var deg = 2 * Math.PI * Math.random();\n    return Util.scale([Math.sin(deg), Math.cos(deg)], length);\n  },\n  // Scale the length of a vector by the given amount.\n  scale (vec, m) {\n    return [vec[0] * m, vec[1] * m];\n  },\n\n  wrap (coord, max) {\n    if (coord < 0) {\n      return max - (coord % max);\n    } else if (coord > max) {\n      return coord % max;\n    } else {\n      return coord;\n    }\n  }\n};\n\nexport default Util;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/util.js\n **/","import MovingObject from \"./moving_object\";\n\nclass Bullet extends MovingObject {\n  constructor(options) {\n    options.radius = Bullet.RADIUS;\n\n    super(options);\n    this.isWrappable = false;\n    this.damage=options.damage;\n    this.range = Bullet.RADIUS;\n  }\n}\n\nBullet.RADIUS = 2;\nBullet.SPEED = 15;\n\nexport default Bullet;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/bullet.js\n **/","class GameView {\n  constructor(game, ctx) {\n    this.ctx = ctx;\n    this.game = game;\n  }\n\n  bindKeyHandlers() {\n    const ship = this.ship;\n\n    Object.keys(GameView.MOVES).forEach((k) => {\n      let move = GameView.MOVES[k];\n      key(k, () => { ship.power(move); });\n    });\n\n    key(\"space\", () => { ship.fireBullet() });\n  }\n\n  start() {\n    this.bindKeyHandlers();\n    this.lastTime = 0;\n    //start the animation\n    requestAnimationFrame(this.animate.bind(this));\n  }\n\n  animate(time) {\n    const timeDelta = time - this.lastTime;\n\n    this.game.step(timeDelta);\n    this.game.draw(this.ctx);\n    this.lastTime = time;\n\n    //every call to animate requests causes another call to animate\n    requestAnimationFrame(this.animate.bind(this));\n  }\n}\n\nGameView.MOVES = {\n  \"w\": [ 0, -1],\n  \"a\": [-1,  0],\n  \"s\": [ 0,  1],\n  \"d\": [ 1,  0],\n};\n\nmodule.exports = GameView;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/game_view.js\n **/","import Util from \"./util\";\n\nclass Base {\n  constructor(options) {\n    this.pos = options.pos;\n    this.width = options.width;\n    this.length = options.length;\n    this.color = options.color;\n    this.game = options.game;\n    this.range = options.range;\n    this.side = options.side;\n    this.hp = options.hp;\n  }\n\n  collideWith(otherObject) {\n    // default do nothing\n  }\n\n  draw(ctx) {\n    ctx.fillStyle = this.color;\n    ctx.fillRect(this.pos[0]-this.width/2,this.pos[1]-this.length/2,this.width,this.length);\n\n\n  }\n  inEnemyRange(unit){\n    var distX = Math.abs(unit.pos[0] - this.pos[0]-this.width/2);\n    var distY = Math.abs(unit.pos[1] - this.pos[1]-this.length/2);\n    if (distX > (this.width/2 + unit.range)) { return false; }\n    if (distY > (this.length/2 + unit.range)) { return false; }\n\n    if (distX <= (this.width/2)) { return true; }\n    if (distY <= (this.length/2)) { return true; }\n\n    var dx=distX-this.width/2;\n    var dy=distY-this.length/2;\n    return (dx*dx+dy*dy<=(unit.range*unit.range));\n}\n\n  isCollidedWith(otherObject) {\n    const centerDist = Util.dist(this.pos, otherObject.pos);\n    return centerDist < (this.radius + otherObject.radius);\n  }\n\n  move(){\n\n  }\n\n  remove() {\n    this.game.remove(this);\n  }\n}\n\nconst NORMAL_FRAME_TIME_DELTA = 1000/60;\n\nexport default Base;\n\n\n\n/** WEBPACK FOOTER **\n ** ./lib/base.js\n **/"],"sourceRoot":""}